# hNSPC (human Neural Stem/Progenitor Cell) Reward Configuration
# Optimizes for hNSPC-specific regulatory activity

reward_blocks:
  - name: "enformer_hnspc"
    type: "enformer"
    weight: 0.6
    config:
      model_path: "checkpoints/enformer_base.pt"
      model_type: "pytorch"
      target_cell_types: ["hNSPC"]
      aggregation: "mean"
      normalization: "zscore"
      device: "cuda"
      batch_size: 32

  - name: "tfbs_neural"
    type: "tfbs"
    weight: 0.4
    config:
      motif_names: ["SOX2", "OCT4", "NEUROD1", "NEUROG2"]
      target_frequency:
        SOX2: 0.25
        OCT4: 0.15
        NEUROD1: 0.10
        NEUROG2: 0.10
      threshold: 0.7
      aggregation: "correlation"
      return_constraint_channel: true

constraints:
  - name: "gc_content"
    min: 0.35
    max: 0.65
    penalty: 0.5

  - name: "tfbs_divergence"
    source: "tfbs_neural"
    channel: "tfbs_divergence"
    max: 0.2
    penalty: 1.0

metadata:
  cell_type: "hNSPC"
  description: "Optimize for human neural stem cell regulatory activity"
  references:
    - "Enformer: Avsec et al., Nature Methods 2021"
    - "JASPAR: Fornes et al., NAR 2020"

